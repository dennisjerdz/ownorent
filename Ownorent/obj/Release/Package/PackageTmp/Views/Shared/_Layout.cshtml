<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>@ViewBag.Title - Ownorent</title>
    
        <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300&family=Roboto&display=swap" rel="stylesheet">

        @Styles.Render("~/Content/css")
        @Scripts.Render("~/bundles/modernizr")

        <link href="~/Content/datatables.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="@Url.Content("~/Content/Icons/font/flaticon.css")" />
    </head>
    @{
        string bgColor = ViewBag.bgColor ?? "white";
    }
    <body style="background-color:@bgColor;">
        @if (ViewBag.Cart != null)
        {
            <a class="floating-cart" href="@Url.Action("Cart","Products")"><i class="icon flaticon-package"></i><span>@ViewBag.Cart</span></a>
        }
        <div class="navbar navbar-default">
            <div class="navbar-overhead">
                <div class="container">
                    <div class="overhead-content">PHONE: (02) 8891 0827 &emsp;|&emsp; EMAIL: oadmin@mailinator.com</div>

                    @Html.Partial("_LoginPartial")
                </div>
            </div>
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="@Url.Action("Index", "Home", new { })" class="navbar-brand">
                        <img class="navbar-logo" src="~/Content/Images/logo.png"/>
                    </a>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li>@Html.ActionLink("HOME", "Index", "Home")</li>
                        @if (!User.Identity.IsAuthenticated)
                        {
                            <li>@Html.ActionLink("PRODUCTS", "p", "Products")</li>
                            <li>@Html.ActionLink("CONTACT", "Contact", "Home")</li>
                        }
                        @if (User.IsInRole("Admin"))
                        {
                            <li>@Html.ActionLink("ACCOUNTS", "Accounts", "Account")</li>
                            <li>@Html.ActionLink("MANAGE PRODUCTS", "Products", "Admin")</li>
                        }
                        @if (User.IsInRole("Seller"))
                        {
                            <li>@Html.ActionLink("MANAGE PRODUCTS", "Index", "Products")</li>
                            <li>@Html.ActionLink("REQUIREMENTS", "Requirements", "Account")</li>
                        }
                        @if (User.IsInRole("Customer"))
                        {
                            <li>@Html.ActionLink("PRODUCTS", "About", "Home")</li>
                            <li>@Html.ActionLink("CONTACT", "Contact", "Home")</li>
                            <li>@Html.ActionLink("CART", "Cart", "Products")</li>
                        }
                    </ul>

                </div>
            </div>
        </div>
        <div class="container body-content">
            @if (ViewBag.Error != null)
            {
                if (ViewBag.Error == "1")
                {
                    <div class="ownorent-alert alert alert-danger alert-dismissible marginTop10">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        @Html.Raw(ViewBag.Message)
                    </div>
                }
            }
            else if (ViewBag.Message != null)
            {
                <div class="ownorent-alert alert alert-success alert-dismissable marginTop10">
                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    @Html.Raw(ViewBag.Message)
                </div>
            }

            @RenderBody()
            <hr />
            <footer>
                <div class="col-md-6 left">
                    <p>&copy; @DateTime.Now.Year - OwnOrent</p>
                </div>
                <div class="col-md-6 right">
                    <p>Icons made by <a href="https://www.flaticon.com/authors/good-ware" title="Good Ware">Good Ware</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></p>
                </div>
            </footer>
        </div>

        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/bootstrap")
        <script src="~/Content/datatables.min.js"></script>
        @RenderSection("scripts", required: false)
    </body>
</html>
